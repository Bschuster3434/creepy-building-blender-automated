# Building Specification - Phase 1A: Base Structure with Cutouts
# Commercial Building - Myrtle Beach Highway
# Generated: 2026-01-03
# Phase: 1A (Geometry Only)
#
# MAJOR CORRECTIONS from iteration 002 user feedback:
#   - Changed from L-shaped to simple rectangle (15.0m × 8.5m)
#   - Fixed canopy orientation (perpendicular to facade, projecting out)
#   - Reduced canopy posts from 5 to 3
#   - Increased door recess depth (1.4m alcove)
#   - Implemented 3-step descending parapet (front to back)
#   - Removed decorative corner steps (plain corners)
#   - Repositioned chimney to right side parapet wall
#   - Removed back extension (simple 4-wall building)

version: phase_1a
units: meters
phase: 1a
description: "Phase 1A - Base structure geometry with rectangular cutouts for openings. NO window/door details, NO materials."

assumptions:
  - Entry door height (2.1m) used as primary scale reference for all measurements
  - Standard US modular brick dimensions assumed (200mm x 100mm x 67mm with mortar)
  - Simple rectangular footprint confirmed from overhead Google Maps imagery
  - Wall thickness assumes single-wythe brick with interior finish (~0.18m total)
  - Roof has minimal slope (1/4:12 to 1/2:12) for drainage, modeled as flat
  - Canopy posts are Schedule 40 steel pipe (~6-8 inch diameter)
  - All dimensions have ±10-15% uncertainty except directly observable features
  - Building date estimated as 1950s-1960s based on architectural style
  - Coordinate system: front facade faces -Y direction (toward viewer), right side is +X direction
  - Parapet descends in 3 steps from front to back (stepped roofline)
  - Chimney is integrated with right side parapet wall (not freestanding on roof)

overall:
  footprint:
    shape: rectangle
    width: 8.5              # X-axis, front facade width (left-right)
    depth: 15.0             # Y-axis, building depth (front-back)
    # Total footprint: 127.5 square meters
  height:
    wall_height: 3.75       # Ground to main roof line
    parapet_height_front: 1.05   # Front parapet above roof
    parapet_height_middle: 0.45  # Middle section parapet above roof
    parapet_height_rear: 0.0     # Rear has no parapet (flat roof edge)
    total_height_front: 4.8      # Ground to top of front parapet
    total_height_middle: 4.2     # Ground to top of middle parapet
    total_height_rear: 3.75      # Ground to rear roof edge (no parapet)

walls:
  thickness: 0.18           # Single wythe brick + interior finish
  height: 3.75

roof:
  type: flat
  thickness: 0.20           # Built-up roofing structure
  elevation: 3.75           # Bottom of roof at wall height
  width: 8.68               # Extends to outer wall faces (8.5 + 0.18 wall thickness)
  depth: 15.18              # Extends to outer wall faces (15.0 + 0.18 wall thickness)

# Simple rectangular footprint
footprint_geometry:
  type: rectangle
  width: 8.5                # Along X-axis (left-right when viewing front)
  depth: 15.0               # Along Y-axis (front-back)
  position:
    x: 0.0                  # Centered on origin
    y: 0.0
  description: "Simple rectangular building facing highway with storefront. No extensions or appendages."

# Door alcove structure - ANGLED WALLS creating funnel/trapezoid shape
door_alcove:
  enabled: true
  shape: trapezoid          # Wide at front, narrow at back (plan view)
  front_opening: 2.5        # Width at facade (6 inches from display windows)
  back_opening: 1.6         # Width at door (double door width)
  depth: 1.0                # How far back the alcove goes
  height: 2.75              # Alcove height (6 inches above window tops at 2.60m)
  position:
    x: 0.0                  # Centered on front facade
    y_front: -7.5           # Front wall position (facade)
    y_back: -6.5            # Back wall position (-7.5 + 1.0)
    z: 0.0                  # Ground level

  walls:
    thickness: 0.18         # Alcove side wall thickness
    left:
      # Angled wall from wide front to narrow back
      front_x: -1.25        # Left edge at facade (window inner at -1.4, plus 0.15m gap)
      back_x: -0.8          # Left edge at door (1.6m door / 2)
      angle_inward: true
    right:
      # Angled wall from wide front to narrow back (mirror of left)
      front_x: 1.25         # Right edge at facade (window inner at 1.4, minus 0.15m gap)
      back_x: 0.8           # Right edge at door (1.6m door / 2)
      angle_inward: true
    back:
      # Back wall of alcove at back of recess (where door cutout is applied)
      enabled: true
      width: 1.78           # Aligns with outer edges of alcove side walls at back (±0.89)
      height: 2.75          # Alcove height (6 inches above window tops)
      position_y: -6.5      # Back of alcove (1.0m from facade)
      notes: "Back wall extends to outer edges of left/right alcove walls at back, door cutout applied here"

  ceiling:
    # Trapezoidal ceiling covering the top of the alcove
    enabled: true
    thickness: 0.15         # Ceiling thickness
    elevation: 2.75         # Bottom of ceiling (6 inches above window tops at 2.60m)
    shape: trapezoid        # Matches alcove footprint
    front_width: 2.68       # Width at front (aligns with outer wall edges at facade)
    back_width: 1.78        # Width at back (aligns with outer wall edges at back)
    depth: 0.91             # From y=-7.5 to y=-6.59 (front face of back wall)
    y_front: -7.5           # Front edge position (at facade)
    y_back: -6.59           # Back edge position (front face of back wall, where side walls end)
    notes: "Trapezoidal ceiling piece covering the top of the alcove interior. Aligns with outer wall edges (exterior side) from facade to front face of back wall."

  header_bar:
    # Horizontal bar/lintel across top of alcove opening at facade
    enabled: true
    width: 2.5              # Spans alcove opening width
    height: 0.1524          # 6 inches high
    depth: 0.18             # Same as wall thickness
    position:
      x: 0.0                # Centered
      y: -7.5               # At front facade (inside of alcove opening)
      z: 2.75               # Top of bar at alcove ceiling height
    notes: "Horizontal header/lintel bar across top of alcove entrance, creates edge/frame effect"

  notes: "Angled alcove walls create funnel/trapezoid shape - wide opening at facade (2.5m) narrows to double door width (1.6m). Alcove extends from ground to bottom of canopy (2.85m). Depth 1.0m."

# PHASE 1A: Cutout specifications (rectangular holes for windows/doors)
# These are VOIDS in the walls - actual window/door geometry added in Phase 1B
cutouts:
  front_alcove_opening:
    width: 2.5              # Wide opening at facade (alcove entrance, 6 inches from windows)
    height: 2.75            # Alcove height (6 inches above window tops)
    wall: front
    position:
      x: 0.0                # Centered on front facade
      y: -7.5               # Front wall position
      z: 0.0                # Ground level
    reveal_depth: 0.18      # Through front wall thickness
    type: rectangular_void
    notes: "Large opening in front wall for alcove entrance (2.5m wide, alcove ceiling at 2.75m)."

  front_entry_door:
    width: 1.4              # Double French door width (leaves 0.1m framing on each side)
    height: 2.67            # Top at 2.67m (leaves 3" framing below alcove ceiling at 2.75m)
    wall: alcove_back
    position:
      x: 0.0                # Centered
      y: -6.5               # Back of alcove (1.0m from front)
      z: 0.0                # Ground level (sill height)
    reveal_depth: 0.18      # Through back wall thickness
    type: rectangular_void
    notes: "Double French door cutout at BACK of alcove (recessed 1.0m). Leaves framing around edges and at top."

  front_left_display_window:
    width: 2.2
    height: 2.30  # Top aligns with alcove ceiling at 2.75m (2.75 - 0.45 sill)
    wall: front
    position:
      x: -2.5               # Left of center door
      y: -7.5               # Front wall position (at wall center)
      z: 0.45               # Sill height above ground (~1.5 feet)
    reveal_depth: 0.25      # Window reveal into wall thickness
    type: rectangular_void
    notes: "Left storefront display window cutout. Top aligns with alcove ceiling. Actual window frame/glass added in Phase 1B."

  front_right_display_window:
    width: 2.2
    height: 2.30  # Top aligns with alcove ceiling at 2.75m (2.75 - 0.45 sill)
    wall: front
    position:
      x: 2.5                # Right of center door (mirror of left)
      y: -7.5               # Front wall position (at wall center)
      z: 0.45               # Sill height above ground (~1.5 feet)
    reveal_depth: 0.25      # Window reveal into wall thickness
    type: rectangular_void
    notes: "Right storefront display window cutout (mirror of left). Top aligns with alcove ceiling. Actual window frame/glass added in Phase 1B."

  door_alcove_left_window:
    width: 0.75             # Horizontal width - reduced to leave border on sides
    height: 2.22            # Top at 2.67m (leaves 3" framing below alcove ceiling at 2.75m)
    wall: alcove_left
    position:
      x: -0.95              # Left angled wall
      y: -7.0               # Centered in alcove depth (between -7.5 and -6.5)
      z: 0.45               # Same sill height as front display windows
    reveal_depth: 0.6       # Reduced to leave border at front and back of wall
    type: rectangular_void
    notes: "Left window on angled alcove wall - tall window, top leaves 3\" framing below ceiling."

  door_alcove_right_window:
    width: 0.75             # Horizontal width - reduced to leave border on sides
    height: 2.22            # Top at 2.67m (leaves 3" framing below alcove ceiling at 2.75m)
    wall: alcove_right
    position:
      x: 0.95               # Right angled wall
      y: -7.0               # Centered in alcove depth (between -7.5 and -6.5)
      z: 0.45               # Same sill height as front display windows
    reveal_depth: 0.6       # Reduced to leave border at front and back of wall
    type: rectangular_void
    notes: "Right window on angled alcove wall - tall window, top leaves 3\" framing below ceiling (mirror of left)."

  rear_service_door:
    width: 1.0              # Standard single door width
    height: 2.1             # Standard door height
    wall: rear
    position:
      x: 0.0                # Centered on rear wall
      y: 7.5                # Rear wall position (building_depth/2)
      z: 0.0                # Ground level (sill height)
    reveal_depth: 0.18      # Through rear wall thickness
    type: rectangular_void
    notes: "Standard back door, centered on rear wall."

# Front canopy/awning structure - PERPENDICULAR orientation
canopy:
  enabled: true
  width: 8.5                # Spans full front facade width (same as building)
  depth: 2.5                # Projects OUT from building toward street (perpendicular to facade)
  height: 3.40              # Post height (bottom of canopy above ground, lowered 6 inches)
  height_clearance: 3.40    # Bottom of canopy above ground
  roof_thickness: 0.35      # Structural depth of canopy
  thickness: 0.35           # Structural depth of canopy (legacy)
  orientation: perpendicular  # Extends OUT from facade toward street
  position:
    x: 0.0                  # Centered on building
    y: -2.5                 # Projects forward from front wall (negative Y is toward viewer)
    z_bottom: 3.40          # Bottom elevation above ground (top at 3.75m)

  posts:
    # Posts positioned: outer posts at edges, center post for structural support
    - x: -4.0               # Left post (at left edge)
      y: -10.0              # Front edge of canopy (building front at -7.5, canopy extends 2.5m forward)
      z: 0.0                # Ground level
      diameter: 0.18        # 6-8 inch steel pipe
    - x: 0.0                # Center post (STRUCTURAL - holds beam)
      y: -10.0              # Front edge of canopy
      z: 0.0                # Ground level
      diameter: 0.18        # 6-8 inch steel pipe
    - x: 4.0                # Right post (at right edge)
      y: -10.0              # Front edge of canopy
      z: 0.0                # Ground level
      diameter: 0.18        # 6-8 inch steel pipe
  notes: "Three posts: left, center, and right. Center post is structural (holds beam)."

  beam:
    height: 0.15            # I-beam depth
    width: 0.10             # I-beam width
    position_z: 3.70        # Flush with canopy underside (3.40 + 0.35 - 0.05)
    notes: "Horizontal beam connecting post tops, spans full width, I-beam or channel section"

# Chimney/flue structure - SITS ON ROOF AT BEGINNING OF THIRD PARAPET LEVEL, RIGHT SIDE
chimney:
  enabled: true
  width: 0.5                # Narrower when viewed from front
  depth: 0.8
  base_elevation: 3.95      # Sits on roof surface (foundation 0.28 + wall 3.75 - 0.08 to account for roof sitting on wall)
  height_above_roof: 1.5    # Extends above roof surface (body of chimney)
  total_height: 5.75        # From ground to top of gabled roof (3.95 + 1.5 + 0.3)
  attachment: sits_on_roof
  position:
    x: 3.8                  # Right side (slightly inset from edge)
    y: 0.61                 # 24 inches back from front edge of third parapet level (level 3 starts at y=0.0)
    z: 3.95                 # Sits on roof surface
  gabled_roof:
    enabled: true
    height: 0.3             # Height of gabled top
    ridge_direction: y      # Ridge runs front-to-back (Y axis)
    style: gable            # Two triangular ends, two sloped rectangular sides
  notes: "Rectangular chimney (narrower from front view) with gabled roof top. Located at beginning of third parapet level, right side."
  position_x: 3.8           # For template compatibility
  position_y: 0.61
  position_z: 3.95

# Stepped parapet wall system - FOUR LEVELS descending front to back (sides only)
# Front facade parapet is flat and 3 inches taller than side parapets
parapet:
  style: stepped_descending
  thickness: 0.18           # Same as main wall thickness (continuous wall)

  # Front facade parapet (flat across front, taller than side parapets)
  front_facade:
    height: 1.1             # Above roof surface
    total_elevation: 4.85   # 3.75 wall + 1.1 parapet

  stepped_configuration:
    type: four_level_front_to_back
    description: "Side parapets descend in 4 distinct steps from front (tallest) to back (no parapet). Equal height steps: 1.05m → 0.70m → 0.35m → 0.0m"

    # Level 1 - Front section (tallest side parapet)
    level_1_height: 1.05        # Above roof surface
    level_1_span: 3.75          # Covers front 3.75m of building depth (y=-7.5 to -3.75)
    level_1_total_elevation: 4.80  # 3.75 wall + 1.05 parapet

    # Level 2 - Second section
    level_2_height: 0.70        # Above roof surface
    level_2_span: 3.75          # Covers next 3.75m (y=-3.75 to 0.0)
    level_2_total_elevation: 4.45  # 3.75 wall + 0.70 parapet
    step_down_1: 0.35           # Drop from level 1 to level 2

    # Level 3 - Third section
    level_3_height: 0.35        # Above roof surface
    level_3_span: 3.75          # Covers next 3.75m (y=0.0 to +3.75)
    level_3_total_elevation: 4.10  # 3.75 wall + 0.35 parapet
    step_down_2: 0.35           # Drop from level 2 to level 3

    # Level 4 - Rear section (no parapet)
    level_4_height: 0.0         # No parapet at rear
    level_4_span: 3.75          # Covers rear 3.75m (y=+3.75 to +7.5)
    level_4_total_elevation: 3.75  # Wall height only, flat roof edge
    step_down_3: 0.35           # Drop from level 3 to level 4

    step_positions:
      - at_depth: 3.75      # First step down at 3.75m from front
      - at_depth: 7.5       # Second step down at 7.5m from front
      - at_depth: 11.25     # Third step down at 11.25m from front

    notes: "Four-level stepped side parapets with equal 0.35m height steps. Front facade parapet is flat at 1.1m height."

  corners:
    style: plain_square
    description: "Simple 90-degree corners, no decorative elements, no stepped/ziggurat patterns"
    notes: "All four corners are plain square brick edges. NO decorative corner blocks or raised elements."

# Foundation visible above grade
foundation:
  exposed_height: 0.28      # Portion visible above ground
  notes: "Poured concrete foundation visible above grade"

# PHASE 1A: Placeholder colors for visualization
# Simple solid colors to verify geometry - NOT realistic materials
phase_1a_colors:
  walls: "#808080"          # Medium gray - neutral base color
  roof: "#404040"           # Dark gray - to distinguish from walls
  parapet: "#8B4513"        # Brown - to distinguish from walls
  canopy_roof: "#C0C0C0"    # Light gray - to see canopy structure
  canopy_posts: "#8B4513"   # Brown - to make posts visible
  canopy_beam: "#8B4513"    # Brown - consistent with posts
  foundation: "#606060"     # Dark gray - to distinguish from walls
  chimney: "#8B4513"        # Brown - to distinguish from parapet
  cutouts: "#000000"        # Black - high contrast to verify holes exist
  notes: "These are PLACEHOLDER colors for Phase 1A geometry visualization. Realistic materials applied in Phase 2."

tolerances:
  dimension_tolerance: 0.05
  angle_tolerance_degrees: 1.0
  allow_non_manifold: false
  max_face_area: 10.0

coordinate_system:
  origin: center_of_footprint_at_ground
  axes:
    x: left_right          # Negative X is left, positive X is right when viewing front
    y: front_back          # Negative Y is front (toward viewer), positive Y is back
    z: up                  # Positive Z is up
  notes: "Origin at ground level, centered on rectangular building footprint. Front facade faces negative Y direction (toward viewer/street)."

# Validation targets for metrics checking (Phase 1A geometry)
validation_targets:
  overall_width: 8.5
  overall_depth: 15.0
  wall_height: 3.75
  parapet_height_front_facade: 1.1   # Front facade parapet above roof (flat)
  parapet_height_side_level_1: 1.05  # Side parapet level 1 (frontmost)
  parapet_height_side_level_2: 0.70  # Side parapet level 2
  parapet_height_side_level_3: 0.35  # Side parapet level 3
  parapet_height_side_level_4: 0.0   # Side parapet level 4 (rear, no parapet)
  total_height_front_facade: 4.85    # Ground to top of front facade parapet (3.75 wall + 1.1 parapet)
  total_height_side_level_1: 4.80    # Ground to top of side level 1 (3.75 wall + 1.05 parapet)
  total_height_side_level_2: 4.45    # Ground to top of side level 2 (3.75 wall + 0.70 parapet)
  total_height_side_level_3: 4.10    # Ground to top of side level 3 (3.75 wall + 0.35 parapet)
  total_height_rear: 3.75            # Ground to roof edge (no parapet)
  front_door_width: 1.2
  front_door_height: 2.1
  front_door_recess: 1.4
  display_window_width: 2.2    # Updated from photo analysis
  display_window_height: 2.30  # Top aligns with alcove ceiling at 2.75m
  window_sill_height: 0.45     # Updated: ~1.5 feet
  canopy_width: 8.5
  canopy_depth: 2.5
  canopy_projection: 2.5
  canopy_clearance: 3.40       # Bottom of canopy (lowered by 6 inches)
  canopy_post_count: 3         # 3 posts: left, center (structural), right
  chimney_total_height: 5.75   # Updated: sits on roof at 3.95 + 1.5 body + 0.3 gabled roof
  chimney_position_x: 3.8      # Updated: right side
  chimney_position_y: 0.61     # Updated: 24 inches back from third parapet level
  foundation_exposed: 0.28
  canopy_beam_height: 0.15
  canopy_beam_width: 0.10
  canopy_beam_position_z: 3.70 # Updated for lowered canopy height
